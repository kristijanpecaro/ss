;(function($,_,undefined){"use strict";ips.controller.register('itzverified.front.itzverified.userbar',{loaded:{},initialize:function(){this.on(document,'menuOpened',this.menuOpened);},menuOpened:function(e,data){if(data.elemID=='elFullVerifications'||data.elemID=='elMobVerifications'){this._loadMenu('verifications',ips.getSetting('baseURL')+'index.php?app=core&module=modcp&controller=modcp&tab=verifications&overview=1','verifications');}},_loadMenu:function(type,url,contentID){if(!this.loaded[type]){var self=this;var ajaxObj=ips.getAjax();$('[data-role="'+contentID+'List"]').html('').css({height:'100px'}).addClass('ipsLoading');ajaxObj(url,{dataType:'json'}).done(function(returnedData){$('[data-role="'+contentID+'List"]').css({height:'auto'}).removeClass('ipsLoading').html(returnedData.data);self.loaded[type]=true;if(contentID!='reports'){var thisTotal=$('[data-notificationType="'+contentID+'"]').html();var globalCount=parseInt($('[data-notificationType="total"]').html());ips.utils.anim.go('fadeOut',$('[data-notificationType="'+contentID+'"]'));$('[data-notificationType="total"]').html(globalCount-parseInt(thisTotal));if(globalCount-parseInt(thisTotal)<=0){ips.utils.anim.go('fadeOut',$('[data-notificationType="total"]'));}}
$(document).trigger('contentChange',[$('[data-role="'+contentID+'List"]')]);}).fail(function(){});}}});}(jQuery,_));;